{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\liami\\\\OneDrive\\\\Escritorio\\\\Semestre 6\\\\Desarrollo de Software\\\\Respawn\\\\frontend\\\\src\\\\componentes\\\\Videojuego\\\\CarritoBtn.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport './Videojuego.module.css';\nimport * as UsuarioServer from '../Usuario/UsuarioServer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CarritoBtn = _ref => {\n  _s();\n  let {\n    videojuego\n  } = _ref;\n  const cookies = new Cookies();\n  const [correoB] = useState({\n    correo: cookies.get(\"correo\")\n  });\n  const [usuario, setUsuario] = useState({\n    id: 0,\n    nombre: \"\",\n    correo: \"\",\n    contrasenia: \"\",\n    domicilio: \"\",\n    carrito: {}\n  });\n  const getUsuario = async () => {\n    try {\n      const data = await (await UsuarioServer.getUsuarioByCorreo(correoB.correo)).json();\n      const {\n        id,\n        nombre,\n        correo,\n        contrasenia,\n        domicilio,\n        carrito\n      } = data.Usuarios[0];\n      setUsuario({\n        id,\n        nombre,\n        correo,\n        contrasenia,\n        domicilio,\n        carrito\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const updateCarrito = async usuario => {\n    try {\n      await (await UsuarioServer.updateUsuario(usuario)).json();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getUsuario();\n  }, []);\n  const boton = () => {\n    var str = JSON.stringify(usuario.carrito).substring(0, JSON.stringify(usuario.carrito).length - 1);\n    str += ',\"' + videojuego.id + '\":' + videojuego.id + '}';\n    usuario.carrito = JSON.parse(str);\n    //updateCarrito(usuario);\n    console.log(usuario.nombre);\n    console.log(usuario.contrasenia);\n    console.log(usuario.correo);\n    console.log(usuario.domicilio);\n    console.log(usuario.id);\n    console.log(usuario.carrito);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success btn-lg\",\n      onClick: boton,\n      children: [\"Agregar a carrito ($\", videojuego.precio.valor, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      id: \"qwerty\",\n      children: \"qaaaaa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(CarritoBtn, \"0RWfWgzX4HBy2mMnIOTkr6b4Tj0=\");\n_c = CarritoBtn;\nexport default CarritoBtn;\nvar _c;\n$RefreshReg$(_c, \"CarritoBtn\");","map":{"version":3,"names":["React","useEffect","useState","Cookies","UsuarioServer","jsxDEV","_jsxDEV","Fragment","_Fragment","CarritoBtn","_ref","_s","videojuego","cookies","correoB","correo","get","usuario","setUsuario","id","nombre","contrasenia","domicilio","carrito","getUsuario","data","getUsuarioByCorreo","json","Usuarios","error","console","log","updateCarrito","updateUsuario","boton","str","JSON","stringify","substring","length","parse","children","className","onClick","precio","valor","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/liami/OneDrive/Escritorio/Semestre 6/Desarrollo de Software/Respawn/frontend/src/componentes/Videojuego/CarritoBtn.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport './Videojuego.module.css';\r\nimport * as UsuarioServer from '../Usuario/UsuarioServer';\r\n\r\n\r\nconst CarritoBtn = ({ videojuego }) => {\r\n    const cookies = new Cookies();\r\n    const [correoB] = useState({ correo: cookies.get(\"correo\") });\r\n    const [usuario, setUsuario] = useState({ id: 0, nombre: \"\", correo: \"\", contrasenia: \"\", domicilio: \"\", carrito: {} });\r\n\r\n\r\n    const getUsuario = async () => {\r\n        try {\r\n            const data = await (await UsuarioServer.getUsuarioByCorreo(correoB.correo)).json();\r\n            const { id, nombre, correo, contrasenia, domicilio, carrito } = data.Usuarios[0];\r\n            setUsuario({ id, nombre, correo, contrasenia, domicilio, carrito });\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const updateCarrito = async (usuario) => {\r\n        try {\r\n          await (await UsuarioServer.updateUsuario(usuario)).json();\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      };\r\n\r\n    useEffect(() => {\r\n        getUsuario();\r\n    }, []);\r\n\r\n    const boton = () => {\r\n        var str = JSON.stringify(usuario.carrito).substring(0, JSON.stringify(usuario.carrito).length - 1);\r\n        str+=',\"'+videojuego.id+'\":'+videojuego.id+'}'\r\n        usuario.carrito=JSON.parse(str)\r\n        //updateCarrito(usuario);\r\n        console.log(usuario.nombre);\r\n        console.log(usuario.contrasenia);\r\n        console.log(usuario.correo);\r\n        console.log(usuario.domicilio);\r\n        console.log(usuario.id);\r\n        console.log(usuario.carrito);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button className=\"btn btn-success btn-lg\" onClick={boton}>Agregar a carrito (${videojuego.precio.valor})</button>\r\n            <label id=\"qwerty\">qaaaaa</label>\r\n        </>\r\n    );\r\n\r\n\r\n};\r\n\r\nexport default CarritoBtn;\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}