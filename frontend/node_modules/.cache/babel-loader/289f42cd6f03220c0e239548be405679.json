{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useNavigate, useParams, Link } from \"react-router-dom\";\n// import * as VideojuegoServer from \"../Videojuego/VideojuegoServer\";\n// import * as CuponServer from \"../Cupon/CuponServer\";\n// import * as UsuarioCuponServer from \"../Usuario/Relacion/UsuarioCuponServer\";\n// import Cookies from \"universal-cookie\";\n// import style from \"./Pago.module.css\";\n\n// const Pago = () => {\n//     const history = useNavigate();\n//     const params = useParams();\n//     const cookies = new Cookies();\n\n//     const [cupones, setCupones] = useState([]);\n//     const [usuarioCupones, setUsuarioCupones] = useState([]);\n//     const [videojuego, setVideojuego] = useState([]);\n\n//     const listaCupones = async () => {\n//         try{\n//             const data = await (await CuponServer.getCupones()).json();\n//             setCupones(data.Cupones);\n\n//             await getCantidad();\n//         }catch(error){\n//             console.log(error);\n//         }\n//     };\n\n//     const getCantidad = async () => {\n//         const dataUsuarioCupon = await (await UsuarioCuponServer.getUsuarioCuponByIdUsuario(cookies.get(\"id\"))).json();\n\n//         if(dataUsuarioCupon.message === \"Exitoso\")\n//             setUsuarioCupones(dataUsuarioCupon.UsuarioCupones);\n//     };\n\n//     const getVideojuego = async () => {\n//         try{\n//             const data = await (await VideojuegoServer.getVideojuego(cookies.get(\"videojuegoId\"))).json();\n//             setVideojuego(data.Videojuegos[0]);\n//         }catch(error){\n//             console.log(error);\n//         }\n//     };\n\n//     function calcIva(videojuegoPrecio){\n//         return parseFloat(videojuegoPrecio*0.16).toFixed(2);\n//     }\n\n//     function calcIvaCompleto(iva, simbolo){\n//         return iva + \" \" + simbolo;\n//     }\n\n//     function calcTotal(videojuegoPrecio, iva){\n//         const precio = parseFloat(videojuegoPrecio);\n//         const aIva = parseFloat(iva);\n//         return (precio+aIva).toFixed(2);\n//     }\n\n//     function calcTotalCompleto(total, simbolo){\n//         return total + \" \" + simbolo;\n//     }\n\n//     function crearBoton(videojuego, idCupon){\n//         const button = document.createElement('button');\n//         const cupon0 = document.getElementById(\"idCupon0\");\n//         const cupon3 = document.getElementById(\"idCupon3\");\n//         button.type = 'button';\n//         button.innerHTML = 'Deshacer selección del cupón';\n//         button.id = 'btnDeshacer';\n//         button.className = 'btn-danger';\n//         button.onclick = function(){\n//             const idP = document.getElementById('pTotal');\n//             const idB = document.getElementById('btnDeshacer');\n//             const container = document.getElementById(style.containerCupon);\n//            switch (idCupon) {\n//             case 0:\n//                 if(videojuego.precio.valor>1000){ \n//                     cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\n//                     cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\n//                 }else{\n//                     cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\n//                 }\n//                 const cantidad0 = document.getElementById(\"cantidadCupon0\");\n//                 cantidad0.innerHTML = `Disponibles ${arrayCantidad[0]}`\n//                 break;\n//             case 3:\n//                 cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\n//                 cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\n//                 const cantidad3 = document.getElementById(\"cantidadCupon3\");\n//                 cantidad3.innerHTML = `Disponibles ${arrayCantidad[0]}`\n//                 break\n//             default:\n//                 break;\n//            }\n//             idP.innerHTML = \"$ \" + calcTotalCompleto(calcTotal(videojuego.precio.valor,calcIva(videojuego.precio.valor)),videojuego.precio.simbolo);\n//             container.removeChild(idB);\n//         }\n//         var container = document.getElementById(style.containerCupon);\n//         container.appendChild(button);\n\n//     }\n\n//     function aplicarCupon(cuponNombre, videojuegoTotal, simbolo){\n//         var varTotal;\n//         const p = document.getElementById(\"pTotal\");\n//         const cupon0 = document.getElementById(\"idCupon0\");\n//         const cantidadDisponible0 = document.getElementById(\"cantidadCupon0\");\n//         const cupon3 = document.getElementById(\"idCupon3\");\n//         const cantidadDisponible3 = document.getElementById(\"cantidadCupon3\");\n//         switch(cuponNombre){\n//             case 'Cupón Bienvenida':\n//                 varTotal = videojuegoTotal - (videojuegoTotal * 0.15)\n//                 p.innerHTML = \"$ \" + varTotal + \" \" + simbolo;\n//                 cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\n//                 cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\n//                 cantidadDisponible0.innerHTML = `Disponibles ${arrayCantidad[0]-1}`\n//                 crearBoton(videojuego,0);\n//                 break;\n//             case 'Cupón De Envío Gratis':\n//                 console.log(\"Cupón De Envío Gratis\");\n//                 break;\n//             case \"Cupón 2x1\":\n//                 console.log(\"Cupón 2x1\");\n//                 break;\n//             case \"Cupón De Descuento\":\n//                 varTotal = videojuegoTotal - (videojuegoTotal * 0.05)\n//                 p.innerHTML = \"$ \" + varTotal + \" \" + simbolo;\n//                 cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\n//                 cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\n//                 cantidadDisponible3.innerHTML = `Disponibles ${arrayCantidad[0]-1}`\n//                 crearBoton(videojuego,3);\n//                 break;\n//             default:\n//                 break;\n//         }\n//     }\n\n//     function estiloCupon(cuponId,videojuegoPrecio){\n//         switch (cuponId) {\n//             case 0:\n//                 return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action\";\n//             case 1:\n//                 return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\";\n//             case 2:\n//                 return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\";\n//             case 3:\n//                 if(videojuegoPrecio > 1000){\n//                     return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action\";\n//                 }else{\n//                     return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\";\n//                 }\n//             default:\n//                 break;\n//         }\n//     }\n\n//     useEffect(() => {\n//         listaCupones();\n//         getVideojuego();\n//         // eslint-disable-next-line\n//     }, []);\n\n//     return(\n//         <><div className={style.container}>\n//             <div className={style.containerImg}>\n//                 <img src={videojuego.caratula} alt=\"caratula\" className={style.img}></img>\n//             </div>\n\n//             <div className={style.containerContent}>\n//                 <h1><strong>{videojuego.nombre}</strong></h1>\n\n//                 <div className=\"containerCosts\">\n//                     <h3 className=\"header3\">Precio</h3>\n//                     <p>${videojuego.precio.valor+ \" \" + videojuego.precio.simbolo}</p>\n//                     <h3 className=\"iva\">IVA</h3>\n//                     <p>${calcIvaCompleto(calcIva(videojuego.precio.valor), videojuego.precio.simbolo)}</p>\n//                     <h3>Total</h3>\n//                     <p id=\"pTotal\">${calcTotalCompleto(calcTotal(videojuego.precio.valor, calcIva(videojuego.precio.valor)), videojuego.precio.simbolo)}</p>\n//                 </div>\n\n//                 <p>Seleccione un método de pago</p>\n\n//                 <div style={{display:\"flex\", justifyContent:\"space-evenly\"}}>\n//                     <button type=\"button\" className=\"btn-primary\" onClick={()=>history(`/pago/${params.id}/tarjetas`)}>Tarjeta</button>\n//                     <button type=\"button\" className=\"btn-primary\" onClick={()=>history(`/pago/${params.id}/paypal`)}>PayPal</button>\n//                 </div>\n//             </div>\n\n//             <div className=\"list-group\" id={style.containerCupon}>\n//                 <h4>Cupones Disponibles</h4>\n\n//                 {cupones.map(cupon=>(\n//                     <ol className=\"list-group\">\n//                         <li id={`idCupon${cupon.id}`} className={estiloCupon(cupon.id, videojuego.precio.valor)} onClick={()=>aplicarCupon(cupon.nombre, calcTotal(videojuego.precio.valor, calcIva(videojuego.precio.valor)), videojuego.precio.simbolo)}>\n//                             <div className=\"ms-0 me-auto\">\n//                                 <div className=\"fw-bold\">{cupon.nombre}</div>\n//                                 <p>Descripción</p>\n//                             </div>\n\n//                             <span className=\"badge bg-primary rounded-pill\" id={`cantidadCupon${cupon.id}`}>Disponibles {arrayCantidad[0]}</span>\n//                         </li>\n//                     </ol>\n//                 ))}\n\n//                 <Link to=\"/cupones\">Ver más información</Link>\n//             </div>\n//         </div></>\n//     );\n// };\n\n// export default Pago;","map":{"version":3,"names":[],"sources":["C:/Users/liami/OneDrive/Escritorio/Semestre 6/Desarrollo de Software/Respawn/frontend/src/componentes/Pago/Pago.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import { useNavigate, useParams, Link } from \"react-router-dom\";\r\n// import * as VideojuegoServer from \"../Videojuego/VideojuegoServer\";\r\n// import * as CuponServer from \"../Cupon/CuponServer\";\r\n// import * as UsuarioCuponServer from \"../Usuario/Relacion/UsuarioCuponServer\";\r\n// import Cookies from \"universal-cookie\";\r\n// import style from \"./Pago.module.css\";\r\n\r\n// const Pago = () => {\r\n//     const history = useNavigate();\r\n//     const params = useParams();\r\n//     const cookies = new Cookies();\r\n\r\n//     const [cupones, setCupones] = useState([]);\r\n//     const [usuarioCupones, setUsuarioCupones] = useState([]);\r\n//     const [videojuego, setVideojuego] = useState([]);\r\n\r\n//     const listaCupones = async () => {\r\n//         try{\r\n//             const data = await (await CuponServer.getCupones()).json();\r\n//             setCupones(data.Cupones);\r\n\r\n//             await getCantidad();\r\n//         }catch(error){\r\n//             console.log(error);\r\n//         }\r\n//     };\r\n\r\n//     const getCantidad = async () => {\r\n//         const dataUsuarioCupon = await (await UsuarioCuponServer.getUsuarioCuponByIdUsuario(cookies.get(\"id\"))).json();\r\n\r\n//         if(dataUsuarioCupon.message === \"Exitoso\")\r\n//             setUsuarioCupones(dataUsuarioCupon.UsuarioCupones);\r\n//     };\r\n\r\n//     const getVideojuego = async () => {\r\n//         try{\r\n//             const data = await (await VideojuegoServer.getVideojuego(cookies.get(\"videojuegoId\"))).json();\r\n//             setVideojuego(data.Videojuegos[0]);\r\n//         }catch(error){\r\n//             console.log(error);\r\n//         }\r\n//     };\r\n\r\n//     function calcIva(videojuegoPrecio){\r\n//         return parseFloat(videojuegoPrecio*0.16).toFixed(2);\r\n//     }\r\n\r\n//     function calcIvaCompleto(iva, simbolo){\r\n//         return iva + \" \" + simbolo;\r\n//     }\r\n\r\n//     function calcTotal(videojuegoPrecio, iva){\r\n//         const precio = parseFloat(videojuegoPrecio);\r\n//         const aIva = parseFloat(iva);\r\n//         return (precio+aIva).toFixed(2);\r\n//     }\r\n\r\n//     function calcTotalCompleto(total, simbolo){\r\n//         return total + \" \" + simbolo;\r\n//     }\r\n\r\n//     function crearBoton(videojuego, idCupon){\r\n//         const button = document.createElement('button');\r\n//         const cupon0 = document.getElementById(\"idCupon0\");\r\n//         const cupon3 = document.getElementById(\"idCupon3\");\r\n//         button.type = 'button';\r\n//         button.innerHTML = 'Deshacer selección del cupón';\r\n//         button.id = 'btnDeshacer';\r\n//         button.className = 'btn-danger';\r\n//         button.onclick = function(){\r\n//             const idP = document.getElementById('pTotal');\r\n//             const idB = document.getElementById('btnDeshacer');\r\n//             const container = document.getElementById(style.containerCupon);\r\n//            switch (idCupon) {\r\n//             case 0:\r\n//                 if(videojuego.precio.valor>1000){ \r\n//                     cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\r\n//                     cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\r\n//                 }else{\r\n//                     cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\r\n//                 }\r\n//                 const cantidad0 = document.getElementById(\"cantidadCupon0\");\r\n//                 cantidad0.innerHTML = `Disponibles ${arrayCantidad[0]}`\r\n//                 break;\r\n//             case 3:\r\n//                 cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\r\n//                 cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action\");\r\n//                 const cantidad3 = document.getElementById(\"cantidadCupon3\");\r\n//                 cantidad3.innerHTML = `Disponibles ${arrayCantidad[0]}`\r\n//                 break\r\n//             default:\r\n//                 break;\r\n//            }\r\n//             idP.innerHTML = \"$ \" + calcTotalCompleto(calcTotal(videojuego.precio.valor,calcIva(videojuego.precio.valor)),videojuego.precio.simbolo);\r\n//             container.removeChild(idB);\r\n//         }\r\n//         var container = document.getElementById(style.containerCupon);\r\n//         container.appendChild(button);\r\n\r\n//     }\r\n\r\n//     function aplicarCupon(cuponNombre, videojuegoTotal, simbolo){\r\n//         var varTotal;\r\n//         const p = document.getElementById(\"pTotal\");\r\n//         const cupon0 = document.getElementById(\"idCupon0\");\r\n//         const cantidadDisponible0 = document.getElementById(\"cantidadCupon0\");\r\n//         const cupon3 = document.getElementById(\"idCupon3\");\r\n//         const cantidadDisponible3 = document.getElementById(\"cantidadCupon3\");\r\n//         switch(cuponNombre){\r\n//             case 'Cupón Bienvenida':\r\n//                 varTotal = videojuegoTotal - (videojuegoTotal * 0.15)\r\n//                 p.innerHTML = \"$ \" + varTotal + \" \" + simbolo;\r\n//                 cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\r\n//                 cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\r\n//                 cantidadDisponible0.innerHTML = `Disponibles ${arrayCantidad[0]-1}`\r\n//                 crearBoton(videojuego,0);\r\n//                 break;\r\n//             case 'Cupón De Envío Gratis':\r\n//                 console.log(\"Cupón De Envío Gratis\");\r\n//                 break;\r\n//             case \"Cupón 2x1\":\r\n//                 console.log(\"Cupón 2x1\");\r\n//                 break;\r\n//             case \"Cupón De Descuento\":\r\n//                 varTotal = videojuegoTotal - (videojuegoTotal * 0.05)\r\n//                 p.innerHTML = \"$ \" + varTotal + \" \" + simbolo;\r\n//                 cupon0.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\r\n//                 cupon3.setAttribute(\"class\",\"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\");\r\n//                 cantidadDisponible3.innerHTML = `Disponibles ${arrayCantidad[0]-1}`\r\n//                 crearBoton(videojuego,3);\r\n//                 break;\r\n//             default:\r\n//                 break;\r\n//         }\r\n//     }\r\n\r\n//     function estiloCupon(cuponId,videojuegoPrecio){\r\n//         switch (cuponId) {\r\n//             case 0:\r\n//                 return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action\";\r\n//             case 1:\r\n//                 return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\";\r\n//             case 2:\r\n//                 return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\";\r\n//             case 3:\r\n//                 if(videojuegoPrecio > 1000){\r\n//                     return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action\";\r\n//                 }else{\r\n//                     return \"list-group-item d-flex justify-content-between align-items-start list-group-item-action disabled\";\r\n//                 }\r\n//             default:\r\n//                 break;\r\n//         }\r\n//     }\r\n\r\n//     useEffect(() => {\r\n//         listaCupones();\r\n//         getVideojuego();\r\n//         // eslint-disable-next-line\r\n//     }, []);\r\n    \r\n//     return(\r\n//         <><div className={style.container}>\r\n//             <div className={style.containerImg}>\r\n//                 <img src={videojuego.caratula} alt=\"caratula\" className={style.img}></img>\r\n//             </div>\r\n\r\n//             <div className={style.containerContent}>\r\n//                 <h1><strong>{videojuego.nombre}</strong></h1>\r\n\r\n//                 <div className=\"containerCosts\">\r\n//                     <h3 className=\"header3\">Precio</h3>\r\n//                     <p>${videojuego.precio.valor+ \" \" + videojuego.precio.simbolo}</p>\r\n//                     <h3 className=\"iva\">IVA</h3>\r\n//                     <p>${calcIvaCompleto(calcIva(videojuego.precio.valor), videojuego.precio.simbolo)}</p>\r\n//                     <h3>Total</h3>\r\n//                     <p id=\"pTotal\">${calcTotalCompleto(calcTotal(videojuego.precio.valor, calcIva(videojuego.precio.valor)), videojuego.precio.simbolo)}</p>\r\n//                 </div>\r\n\r\n//                 <p>Seleccione un método de pago</p>\r\n\r\n//                 <div style={{display:\"flex\", justifyContent:\"space-evenly\"}}>\r\n//                     <button type=\"button\" className=\"btn-primary\" onClick={()=>history(`/pago/${params.id}/tarjetas`)}>Tarjeta</button>\r\n//                     <button type=\"button\" className=\"btn-primary\" onClick={()=>history(`/pago/${params.id}/paypal`)}>PayPal</button>\r\n//                 </div>\r\n//             </div>\r\n\r\n//             <div className=\"list-group\" id={style.containerCupon}>\r\n//                 <h4>Cupones Disponibles</h4>\r\n\r\n//                 {cupones.map(cupon=>(\r\n//                     <ol className=\"list-group\">\r\n//                         <li id={`idCupon${cupon.id}`} className={estiloCupon(cupon.id, videojuego.precio.valor)} onClick={()=>aplicarCupon(cupon.nombre, calcTotal(videojuego.precio.valor, calcIva(videojuego.precio.valor)), videojuego.precio.simbolo)}>\r\n//                             <div className=\"ms-0 me-auto\">\r\n//                                 <div className=\"fw-bold\">{cupon.nombre}</div>\r\n//                                 <p>Descripción</p>\r\n//                             </div>\r\n\r\n//                             <span className=\"badge bg-primary rounded-pill\" id={`cantidadCupon${cupon.id}`}>Disponibles {arrayCantidad[0]}</span>\r\n//                         </li>\r\n//                     </ol>\r\n//                 ))}\r\n\r\n//                 <Link to=\"/cupones\">Ver más información</Link>\r\n//             </div>\r\n//         </div></>\r\n//     );\r\n// };\r\n\r\n// export default Pago;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module"}