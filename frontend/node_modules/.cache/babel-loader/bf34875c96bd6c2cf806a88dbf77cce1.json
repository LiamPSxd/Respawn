{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\breay\\\\OneDrive\\\\Documentos\\\\Repositorios\\\\Respawn\\\\frontend\\\\src\\\\componentes\\\\Pago\\\\PagoCuponItem.js\";\nimport React from \"react\";\nimport style from \"./Pago.module.css\";\nimport Cookies from \"universal-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PagoCuponItem = _ref => {\n  let {\n    cupon,\n    cantidad,\n    precio\n  } = _ref;\n  const cookies = new Cookies();\n  cookies.set(\"idCupon\", null);\n  cookies.set(\"cantidadCupon\", null);\n  cookies.set(\"dCupon\", null);\n  const setDisable = () => {\n    switch (cupon.id) {\n      case 0:\n        return cantidad > 0 ? \"\" : \"disabled\";\n      case 2:\n      case 1:\n        return \"disabled\";\n      case 3:\n        if (precio.valor >= 1000 && cantidad > 0) return \"\";else return \"disabled\";\n      default:\n        return \"\";\n    }\n  };\n  const aplicarCupon = () => {\n    const pTotal = document.getElementById(\"pTotal\");\n    var descuento = 0.0;\n    if (parseFloat(pTotal.innerHTML.split(\" \")[0]) == parseFloat(calcIva())) {\n      const cant = document.getElementById(`cantidad${cupon.id}`);\n      let totalPrecio = calcIva();\n      switch (cupon.id) {\n        case 0:\n          descuento = totalPrecio * 0.15;\n          cookies.set(\"idCupon\", cupon.id);\n          cookies.set(\"cantidadCupon\", cantidad);\n          cookies.set(\"dCupon\", descuento);\n          totalPrecio -= calcIva() * 0.15;\n          break;\n        case 3:\n          descuento = totalPrecio * 0.05;\n          cookies.set(\"idCupon\", cupon.id);\n          cookies.set(\"cantidadCupon\", cantidad);\n          cookies.set(\"dCupon\", descuento);\n          totalPrecio -= calcIva() * 0.05;\n          break;\n        default:\n          console.log(cupon.nombre);\n          break;\n      }\n      cant.innerHTML = cantidad -= 1;\n      addDeshacer();\n      actualizarPrecio(totalPrecio.toFixed(2));\n    }\n  };\n  const calcIva = () => parseFloat(precio.valor * 1.16).toFixed(2);\n  const actualizarPrecio = total => {\n    const pTotal = document.getElementById(\"pTotal\");\n    pTotal.innerHTML = `${total} ${precio.simbolo}`;\n  };\n  const addDeshacer = () => {\n    const container = document.getElementById(\"cupones\");\n    const cant = document.getElementById(`cantidad${cupon.id}`);\n    const button = document.createElement(\"button\");\n    button.type = \"button\";\n    button.innerHTML = \"Deshacer selección del cupón\";\n    button.id = \"btnDeshacer\";\n    button.className = \"btn-danger\";\n    button.onclick = () => {\n      cant.innerHTML = cantidad += 1;\n      actualizarPrecio(calcIva());\n      container.removeChild(document.getElementById(\"btnDeshacer\"));\n      cookies.set(\"dCupon\", 0.0);\n      cookies.set(\"idCupon\", null);\n      cookies.set(\"cantidadCupon\", null);\n    };\n    container.appendChild(button);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"button\", {\n      id: style.item,\n      className: `list-group-item list-group-item-action d-flex gap-3 py-1 ${setDisable()}`,\n      \"aria-current\": \"true\",\n      onClick: () => aplicarCupon(),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: cupon.imagen,\n        alt: \"cuponCaratula\",\n        width: \"64\",\n        height: \"64\",\n        className: \"rounded-circle flex-shrink-0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex gap-2 w-100 justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: style.containerCupon,\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-0\",\n            id: style.tituloCupon,\n            children: cupon.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0 opacity-75\",\n            children: \"Descripci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: `cantidad${cupon.id}`,\n            className: style.cantidad,\n            children: cantidad\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, cupon.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n};\n_c = PagoCuponItem;\nexport default PagoCuponItem;\nvar _c;\n$RefreshReg$(_c, \"PagoCuponItem\");","map":{"version":3,"names":["React","style","Cookies","jsxDEV","_jsxDEV","Fragment","_Fragment","PagoCuponItem","_ref","cupon","cantidad","precio","cookies","set","setDisable","id","valor","aplicarCupon","pTotal","document","getElementById","descuento","parseFloat","innerHTML","split","calcIva","cant","totalPrecio","console","log","nombre","addDeshacer","actualizarPrecio","toFixed","total","simbolo","container","button","createElement","type","className","onclick","removeChild","appendChild","children","item","onClick","src","imagen","alt","width","height","fileName","_jsxFileName","lineNumber","columnNumber","containerCupon","tituloCupon","_c","$RefreshReg$"],"sources":["C:/Users/breay/OneDrive/Documentos/Repositorios/Respawn/frontend/src/componentes/Pago/PagoCuponItem.js"],"sourcesContent":["import React from \"react\";\r\nimport style from \"./Pago.module.css\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst PagoCuponItem = ({ cupon, cantidad, precio }) => {\r\n    const cookies = new Cookies();\r\n    cookies.set(\"idCupon\",null)\r\n    cookies.set(\"cantidadCupon\",null)\r\n    cookies.set(\"dCupon\",null)\r\n    const setDisable = () => {\r\n        switch(cupon.id){\r\n            case 0:\r\n                return cantidad > 0 ? \"\" : \"disabled\";\r\n            case 2:\r\n            case 1:\r\n                return \"disabled\";\r\n            case 3:\r\n                if(precio.valor >= 1000 && cantidad > 0) return \"\";\r\n                else return \"disabled\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    };\r\n\r\n    const aplicarCupon = () => {\r\n        const pTotal = document.getElementById(\"pTotal\");\r\n        var descuento = 0.0\r\n        if(parseFloat(pTotal.innerHTML.split(\" \")[0]) == parseFloat(calcIva())){\r\n            const cant = document.getElementById(`cantidad${cupon.id}`);\r\n            let totalPrecio = calcIva();\r\n            switch(cupon.id){\r\n                case 0:\r\n                    descuento = totalPrecio * 0.15\r\n                    cookies.set(\"idCupon\",cupon.id)\r\n                    cookies.set(\"cantidadCupon\",cantidad)\r\n                    cookies.set(\"dCupon\",descuento)\r\n                    totalPrecio -= calcIva() * 0.15;\r\n                    break;\r\n                case 3:\r\n                    descuento = totalPrecio * 0.05\r\n                    cookies.set(\"idCupon\",cupon.id)\r\n                    cookies.set(\"cantidadCupon\",cantidad)\r\n                    cookies.set(\"dCupon\",descuento)\r\n                    totalPrecio -= calcIva() * 0.05;\r\n                    break;\r\n                default:\r\n                    console.log(cupon.nombre);\r\n                    break;\r\n            }\r\n\r\n            cant.innerHTML = cantidad -= 1;\r\n            addDeshacer();\r\n            actualizarPrecio(totalPrecio.toFixed(2));\r\n        }\r\n    };\r\n\r\n    const calcIva = () => parseFloat(precio.valor * 1.16).toFixed(2);\r\n\r\n    const actualizarPrecio = (total) => {\r\n        const pTotal = document.getElementById(\"pTotal\");\r\n        pTotal.innerHTML = `${total} ${precio.simbolo}`;\r\n    };\r\n\r\n    const addDeshacer = () => {\r\n        const container = document.getElementById(\"cupones\");\r\n        const cant = document.getElementById(`cantidad${cupon.id}`);\r\n\r\n        const button = document.createElement(\"button\");\r\n        button.type = \"button\";\r\n        button.innerHTML = \"Deshacer selección del cupón\";\r\n        button.id = \"btnDeshacer\";\r\n        button.className = \"btn-danger\";\r\n\r\n        button.onclick = () => {\r\n            cant.innerHTML = cantidad += 1;\r\n\r\n            actualizarPrecio(calcIva());\r\n            container.removeChild(document.getElementById(\"btnDeshacer\"));\r\n            cookies.set(\"dCupon\",0.0)\r\n            cookies.set(\"idCupon\",null)\r\n            cookies.set(\"cantidadCupon\",null)\r\n        }\r\n\r\n        container.appendChild(button);\r\n    };\r\n\r\n    return(\r\n        <><button key={cupon.id} id={style.item} className={`list-group-item list-group-item-action d-flex gap-3 py-1 ${setDisable()}`} aria-current=\"true\" onClick={() => aplicarCupon()}>\r\n            <img src={cupon.imagen} alt=\"cuponCaratula\" width=\"64\" height=\"64\" className=\"rounded-circle flex-shrink-0\" />\r\n\r\n            <div className=\"d-flex gap-2 w-100 justify-content-between\">\r\n                <div id={style.containerCupon}>\r\n                    <h6 className=\"mb-0\" id={style.tituloCupon}>{cupon.nombre}</h6>\r\n                    <p className=\"mb-0 opacity-75\">Descripción</p>\r\n                </div>\r\n\r\n                <small>\r\n                    <span id={`cantidad${cupon.id}`} className={style.cantidad}>{cantidad}</span>\r\n                </small>\r\n            </div>\r\n        </button></>\r\n    );\r\n};\r\n\r\nexport default PagoCuponItem;"],"mappings":"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"},"metadata":{},"sourceType":"module"}